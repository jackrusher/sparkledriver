<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>sparkledriver.element documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">sparkledriver</span> <span class="project-version">0.2.3</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to sparkledriver</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sparkledriver</span></div></div></li><li class="depth-2 branch"><a href="sparkledriver.browser.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>browser</span></div></a></li><li class="depth-2 branch"><a href="sparkledriver.cookies.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cookies</span></div></a></li><li class="depth-2 branch current"><a href="sparkledriver.element.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>element</span></div></a></li><li class="depth-2"><a href="sparkledriver.retry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>retry</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="sparkledriver.element.html#var-attr"><div class="inner"><span>attr</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-clear-text.21"><div class="inner"><span>clear-text!</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-click.21"><div class="inner"><span>click!</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-click-all.21"><div class="inner"><span>click-all!</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-css-value"><div class="inner"><span>css-value</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-displayed.3F"><div class="inner"><span>displayed?</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-enabled.3F"><div class="inner"><span>enabled?</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-find-by-class"><div class="inner"><span>find-by-class</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-find-by-class*"><div class="inner"><span>find-by-class*</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-find-by-css"><div class="inner"><span>find-by-css</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-find-by-css*"><div class="inner"><span>find-by-css*</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-find-by-id"><div class="inner"><span>find-by-id</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-find-by-tag"><div class="inner"><span>find-by-tag</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-find-by-tag*"><div class="inner"><span>find-by-tag*</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-find-by-xpath"><div class="inner"><span>find-by-xpath</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-find-by-xpath*"><div class="inner"><span>find-by-xpath*</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-id"><div class="inner"><span>id</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-inner-html"><div class="inner"><span>inner-html</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-location"><div class="inner"><span>location</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-outer-html"><div class="inner"><span>outer-html</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-rectangle"><div class="inner"><span>rectangle</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-screenshot"><div class="inner"><span>screenshot</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-selected.3F"><div class="inner"><span>selected?</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-send-text.21"><div class="inner"><span>send-text!</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-size"><div class="inner"><span>size</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-submit-form.21"><div class="inner"><span>submit-form!</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-tag"><div class="inner"><span>tag</span></div></a></li><li class="depth-1"><a href="sparkledriver.element.html#var-text"><div class="inner"><span>text</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">sparkledriver.element</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-attr"><h3>attr</h3><div class="usage"><code>(attr element attribute)</code></div><div class="doc"><div class="markdown"><p>Return the value of <code>attribute</code> for <code>element</code></p></div></div></div><div class="public anchor" id="var-clear-text.21"><h3>clear-text!</h3><div class="usage"><code>(clear-text! element)</code></div><div class="doc"><div class="markdown"><p>Clear the current text of text-entry <code>element</code>. Used with send-text! to manipulate form fields.</p></div></div></div><div class="public anchor" id="var-click.21"><h3>click!</h3><div class="usage"><code>(click! element)</code></div><div class="doc"><div class="markdown"><p>Send a browser click event to <code>element</code>.</p></div></div></div><div class="public anchor" id="var-click-all.21"><h3>click-all!</h3><div class="usage"><code>(click-all! elements)</code></div><div class="doc"><div class="markdown"><p>Click every element in the sequence <code>elements</code>. Returns the number of elements clicked.</p></div></div></div><div class="public anchor" id="var-css-value"><h3>css-value</h3><div class="usage"><code>(css-value element property)</code></div><div class="doc"><div class="markdown"><p>Return the value of CSS <code>property</code> for <code>element</code></p></div></div></div><div class="public anchor" id="var-displayed.3F"><h3>displayed?</h3><div class="usage"><code>(displayed? element)</code></div><div class="doc"><div class="markdown"><p>Is this element displayed or not? This method avoids the problem of having to parse an element’s CSS.</p></div></div></div><div class="public anchor" id="var-enabled.3F"><h3>enabled?</h3><div class="usage"><code>(enabled? element)</code></div><div class="doc"><div class="markdown"><p>Is the element currently enabled or not? This will generally return true for everything but disabled input elements.</p></div></div></div><div class="public anchor" id="var-find-by-class"><h3>find-by-class</h3><div class="usage"><code>(find-by-class browser-or-elem class)</code></div><div class="doc"><div class="markdown"><p>Return the first element with class name <code>class</code> that’s a child of <code>browser-or-elem</code> (which can be a browser or element). Throws an exception if there’s no such element! If called with <em>retry-fn</em> bound - for example by using the <code>with-retry</code> macro - will wrap the operation in that function.</p></div></div></div><div class="public anchor" id="var-find-by-class*"><h3>find-by-class*</h3><div class="usage"><code>(find-by-class* browser-or-elem class)</code></div><div class="doc"><div class="markdown"><p>Return all elements with class name <code>class</code> that are children of <code>browser-or-elem</code> (which can be a browser or element) or an empty sequence. If called with <em>retry-fn</em> bound - for example by using the <code>with-retry</code> macro - will wrap the operation in that function.</p></div></div></div><div class="public anchor" id="var-find-by-css"><h3>find-by-css</h3><div class="usage"><code>(find-by-css browser-or-elem css-selector)</code></div><div class="doc"><div class="markdown"><p>Return the first element that matches <code>css-selector</code>, starting from <code>browser-or-elem</code> (which can be a browser or element). Throws an exception if there’s no such element! If called with <em>retry-fn</em> bound - for example by using the <code>with-retry</code> macro - will wrap the operation in that function.</p></div></div></div><div class="public anchor" id="var-find-by-css*"><h3>find-by-css*</h3><div class="usage"><code>(find-by-css* browser-or-elem css-selector)</code></div><div class="doc"><div class="markdown"><p>Return all elements that match <code>css-selector</code>, starting from <code>browser-or-elem</code> (which can be a browser or element) or an empty sequence. If called with <em>retry-fn</em> bound - for example by using the <code>with-retry</code> macro - will wrap the operation in that function.</p></div></div></div><div class="public anchor" id="var-find-by-id"><h3>find-by-id</h3><div class="usage"><code>(find-by-id browser-or-elem id)</code></div><div class="doc"><div class="markdown"><p>Return the single element with <code>id</code> that’s a child of <code>browser-or-elem</code> (which can be a browser or element). Throws an exception if there’s no such element! If called with <em>retry-fn</em> bound - for example by using the <code>with-retry</code> macro - will wrap the operation in that function.</p></div></div></div><div class="public anchor" id="var-find-by-tag"><h3>find-by-tag</h3><div class="usage"><code>(find-by-tag browser-or-elem tag)</code></div><div class="doc"><div class="markdown"><p>Return the first element with tag name <code>tag</code> that’s a child of <code>browser-or-elem</code> (which can be a browser or element). Throws an exception if there’s no such element! If called with <em>retry-fn</em> bound - for example by using the <code>with-retry</code> macro - will wrap the operation in that function.</p></div></div></div><div class="public anchor" id="var-find-by-tag*"><h3>find-by-tag*</h3><div class="usage"><code>(find-by-tag* browser-or-elem tag)</code></div><div class="doc"><div class="markdown"><p>Return all elements with tag name <code>tag</code> that are children of <code>browser-or-elem</code> (which can be a browser or element) or an empty sequence. If called with <em>retry-fn</em> bound - for example by using the <code>with-retry</code> macro - will wrap the operation in that function.</p></div></div></div><div class="public anchor" id="var-find-by-xpath"><h3>find-by-xpath</h3><div class="usage"><code>(find-by-xpath browser-or-elem xpath)</code></div><div class="doc"><div class="markdown"><p>Return the first element that matches <code>xpath</code>, starting from <code>browser-or-elem</code> (which can be a browser or element). Throws an exception if there’s no such element! If called with <em>retry-fn</em> bound - for example by using the <code>with-retry</code> macro - will wrap the operation in that function.</p>
<p>For example:</p>
<pre><code>(with-browser [browser (make-browser)]
  (-&gt; (fetch! browser "http://clojure.org")
      (find-by-xpath* "//div[@class='clj-intro-message']/p")
      (nth 2)
      text))
;;=&gt; "I hope you find Clojure's combination of facilities elegant, powerful, practical and fun to use."
</code></pre></div></div></div><div class="public anchor" id="var-find-by-xpath*"><h3>find-by-xpath*</h3><div class="usage"><code>(find-by-xpath* browser-or-elem xpath)</code></div><div class="doc"><div class="markdown"><p>Return all elements that match <code>xpath</code>, starting from <code>browser-or-elem</code> (which can be a browser or element) or an empty sequence. If called with <em>retry-fn</em> bound - for example by using the <code>with-retry</code> macro - will wrap the operation in that function.</p></div></div></div><div class="public anchor" id="var-id"><h3>id</h3><div class="usage"><code>(id element)</code></div><div class="doc"><div class="markdown"><p>Return the value of the id attribute of <code>element</code></p></div></div></div><div class="public anchor" id="var-inner-html"><h3>inner-html</h3><div class="usage"><code>(inner-html element)</code></div><div class="doc"><div class="markdown"><p>Return the innerHTML of <code>element</code></p></div></div></div><div class="public anchor" id="var-location"><h3>location</h3><div class="usage"><code>(location element)</code></div><div class="doc"><div class="markdown"><p>Location on the page of the top left-hand corner of the rendered element.</p></div></div></div><div class="public anchor" id="var-outer-html"><h3>outer-html</h3><div class="usage"><code>(outer-html element)</code></div><div class="doc"><div class="markdown"><p>Return the outerHTML of <code>element</code></p></div></div></div><div class="public anchor" id="var-rectangle"><h3>rectangle</h3><div class="usage"><code>(rectangle element)</code></div><div class="doc"><div class="markdown"><p>The location and size of the rendered element.</p></div></div></div><div class="public anchor" id="var-screenshot"><h3>screenshot</h3><div class="usage"><code>(screenshot browser)</code></div><div class="doc"><div class="markdown"><p>Takes a screenshot of <code>browser</code>’s current state and stores the image in a temporary file, then returns the file’s absolute path.</p>
<p>(N.B. this function is in the element namespace because it should take a browser or an element, but there’s presently an <a href="https://github.com/jackrusher/sparkledriver/issues/12">upstream bug</a> preventing this from working.)</p></div></div></div><div class="public anchor" id="var-selected.3F"><h3>selected?</h3><div class="usage"><code>(selected? element)</code></div><div class="doc"><div class="markdown"><p>Return whether or not this element is selected </p></div></div></div><div class="public anchor" id="var-send-text.21"><h3>send-text!</h3><div class="usage"><code>(send-text! element text)</code></div><div class="doc"><div class="markdown"><p>Send the string <code>text</code> to <code>element</code>, as if the user typed it.</p></div></div></div><div class="public anchor" id="var-size"><h3>size</h3><div class="usage"><code>(size element)</code></div><div class="doc"><div class="markdown"><p>What is the width and height of the rendered element?</p></div></div></div><div class="public anchor" id="var-submit-form.21"><h3>submit-form!</h3><div class="usage"><code>(submit-form! element)</code></div><div class="doc"><div class="markdown"><p>Submit <code>element</code>, which should be an HTML form.</p></div></div></div><div class="public anchor" id="var-tag"><h3>tag</h3><div class="usage"><code>(tag element)</code></div><div class="doc"><div class="markdown"><p>Return the tag name of <code>element</code></p></div></div></div><div class="public anchor" id="var-text"><h3>text</h3><div class="usage"><code>(text element)</code></div><div class="doc"><div class="markdown"><p>Return the complete visible textual content of <code>element</code> (including any children). Text from hidden elements is not included.</p></div></div></div></div></body></html>